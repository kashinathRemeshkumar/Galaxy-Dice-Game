<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Galaxy – Journey to Planet Zeta</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .galaxy-bg {
            background-image: url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=1471&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .spaceship {
            transition: all 0.5s ease;
        }
        .planet-eta {
            background: conic-gradient(
                #3b82f6 0% 30%,
                #60a5fa 30% 45%,
                #93c5fd 45% 55%,
                #bfdbfe 55% 70%,
                #dbeafe 70% 100%
            );
        }
        .planet-zeta {
            background: conic-gradient(
                #ec4899 0% 20%,
                #f472b6 20% 40%,
                #f9a8d4 40% 60%,
                #fbcfe8 60% 80%,
                #fce7f3 80% 100%
            );
        }
        .dice-roll {
            animation: roll 0.5s ease-out;
        }
        @keyframes roll {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }
        .quiz-marker {
            height: 100%;
            width: 2px;
            background-color: rgba(234, 179, 8, 0.5);
            position: absolute;
            top: 0;
        }
    </style>
</head>
<body class="galaxy-bg min-h-screen text-white font-sans">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600">
                🚀 Dice Galaxy
            </h1>
            <h2 class="text-xl md:text-2xl font-semibold mb-4">Journey to Planet Zeta</h2>
            <p class="max-w-2xl mx-auto text-gray-300">
                Roll your way through space, dodge black holes, and reach Planet Zeta before it's too late!
            </p>
        </header>

        <!-- Game Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="bg-gray-800 bg-opacity-70 rounded-lg p-4 text-center">
                <h3 class="text-lg font-semibold mb-2">Current Position</h3>
                <p class="text-2xl font-bold text-blue-400" id="position">0</p>
                <p class="text-sm text-gray-400">/ 100 units</p>
            </div>
            <div class="bg-gray-800 bg-opacity-70 rounded-lg p-4 text-center">
                <h3 class="text-lg font-semibold mb-2">Score</h3>
                <p class="text-2xl font-bold text-green-400" id="score">0</p>
            </div>
            <div class="bg-gray-800 bg-opacity-70 rounded-lg p-4 text-center">
                <h3 class="text-lg font-semibold mb-2">Rolls</h3>
                <p class="text-2xl font-bold text-yellow-400" id="rolls">0</p>
            </div>
        </div>

        <!-- Game Board -->
        <div class="relative mb-8 h-24 bg-gray-900 bg-opacity-50 rounded-xl overflow-hidden">
            <div class="absolute top-1/2 left-4 transform -translate-y-1/2 w-12 h-12 rounded-full planet-eta flex items-center justify-center shadow-lg">
                <span class="text-xs font-bold">Start</span>
            </div>
            
            <div class="absolute top-1/2 right-4 transform -translate-y-1/2 w-16 h-16 rounded-full planet-zeta flex items-center justify-center shadow-lg">
                <span class="text-xs font-bold">Zeta</span>
            </div>
            
            <div id="spaceship" class="spaceship absolute top-1/2 left-16 transform -translate-y-1/2 w-10 h-10">
                <i class="fas fa-rocket text-2xl text-red-500"></i>
            </div>
            
            <!-- Quiz Cell Markers -->
            <div id="quizMarkers" class="absolute inset-0 pointer-events-none">
                <!-- Markers will be added by JavaScript -->
            </div>
            
            <div class="absolute inset-0 flex items-center">
                <div class="h-1 bg-gray-700 w-full"></div>
            </div>
        </div>

        <!-- Game Controls -->
        <div class="flex flex-col items-center mb-8">
            <button id="rollBtn" class="bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300 mb-4">
                Roll the Dice
            </button>
            
            <div id="diceResult" class="text-2xl font-bold mb-4 hidden">
                You rolled: <span id="rollValue" class="text-yellow-400">0</span>
            </div>
            
            <div id="eventMessage" class="text-xl font-semibold mb-4 hidden">
                <span id="eventText" class="text-blue-300"></span>
            </div>
            
            <div id="quizContainer" class="hidden bg-gray-800 bg-opacity-90 rounded-lg p-6 max-w-md w-full">
                <h3 class="text-xl font-bold mb-4 text-center text-purple-300">Space Quiz!</h3>
                <p id="quizQuestion" class="mb-4 text-center"></p>
                <div id="quizOptions" class="grid grid-cols-1 gap-2 mb-4"></div>
                <button id="submitQuiz" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded">
                    Submit Answer
                </button>
            </div>
        </div>

        <!-- Event Log -->
        <div class="bg-gray-800 bg-opacity-70 rounded-lg p-4 max-w-2xl mx-auto">
            <h3 class="text-lg font-semibold mb-2 flex items-center">
                <i class="fas fa-scroll mr-2"></i> Space Log
            </h3>
            <div id="eventLog" class="h-40 overflow-y-auto text-sm space-y-1">
                <p class="text-gray-400 italic">Your journey begins...</p>
            </div>
        </div>

        <!-- How to Play -->
        <div class="mt-8 bg-gray-800 bg-opacity-70 rounded-lg p-6 max-w-3xl mx-auto">
            <h3 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-info-circle mr-2 text-blue-400"></i> How to Play
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <h4 class="font-semibold mb-2 text-blue-300">Basic Rules</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start">
                            <i class="fas fa-dice mr-2 mt-1 text-yellow-400"></i>
                            <span>Roll the dice to move 1-6 units through space</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-star mr-2 mt-1 text-green-400"></i>
                            <span>Reach Planet Zeta at position 100 to win</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-history mr-2 mt-1 text-purple-400"></i>
                            <span>Each roll increases your score by the dice value</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-2 text-blue-300">Space Events</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start">
                            <i class="fas fa-exchange-alt mr-2 mt-1 text-red-400"></i>
                            <span><strong>Wormhole:</strong> Jump forward 10 units</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-meteor mr-2 mt-1 text-orange-400"></i>
                            <span><strong>Asteroid Belt:</strong> Lose 2 points</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-black-hole mr-2 mt-1 text-gray-400"></i>
                            <span><strong>Black Hole:</strong> Get pulled back 20 units</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-question-circle mr-2 mt-1 text-yellow-400"></i>
                            <span><strong>Quiz Cell:</strong> Answer correctly for a bonus move (look for yellow markers)</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            position: 0,
            score: 0,
            rolls: 0,
            gameOver: false,
            quizCells: [10, 20, 30, 40, 50, 60, 70, 80, 90], // More frequent quizzes
            questions: [
                {
                    question: "What is the largest planet in our solar system?",
                    options: ["Earth", "Saturn", "Jupiter", "Neptune"],
                    answer: 2
                },
                {
                    question: "Which galaxy contains our solar system?",
                    options: ["Andromeda", "Milky Way", "Triangulum", "Whirlpool"],
                    answer: 1
                },
                {
                    question: "What is the name of the first artificial satellite launched into space?",
                    options: ["Voyager 1", "Hubble", "Sputnik 1", "Apollo 11"],
                    answer: 2
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Venus", "Mars", "Jupiter", "Saturn"],
                    answer: 1
                },
                {
                    question: "What is the hottest planet in our solar system?",
                    options: ["Mercury", "Venus", "Mars", "Jupiter"],
                    answer: 1
                },
                {
                    question: "Which of these is not a type of galaxy?",
                    options: ["Spiral", "Elliptical", "Irregular", "Triangular"],
                    answer: 3
                },
                {
                    question: "What is the name of NASA's most famous space telescope?",
                    options: ["Kepler", "Hubble", "Webb", "Chandra"],
                    answer: 1
                },
                {
                    question: "Which planet has the most moons?",
                    options: ["Jupiter", "Saturn", "Uranus", "Neptune"],
                    answer: 1
                }
            ],
            currentQuestion: null
        };

        // DOM elements
        const positionEl = document.getElementById('position');
        const scoreEl = document.getElementById('score');
        const rollsEl = document.getElementById('rolls');
        const rollBtn = document.getElementById('rollBtn');
        const diceResultEl = document.getElementById('diceResult');
        const rollValueEl = document.getElementById('rollValue');
        const eventMessageEl = document.getElementById('eventMessage');
        const eventTextEl = document.getElementById('eventText');
        const eventLogEl = document.getElementById('eventLog');
        const spaceshipEl = document.getElementById('spaceship');
        const quizContainerEl = document.getElementById('quizContainer');
        const quizQuestionEl = document.getElementById('quizQuestion');
        const quizOptionsEl = document.getElementById('quizOptions');
        const submitQuizEl = document.getElementById('submitQuiz');
        const quizMarkersEl = document.getElementById('quizMarkers');

        // Initialize game
        function initGame() {
            // Add quiz markers to the game board
            gameState.quizCells.forEach(cell => {
                const marker = document.createElement('div');
                marker.className = 'quiz-marker';
                marker.style.left = `${cell}%`;
                quizMarkersEl.appendChild(marker);
            });
            
            updateUI();
        }

        // Roll dice handler
        rollBtn.addEventListener('click', function() {
            if (gameState.gameOver) return;
            
            // Roll dice (1-6)
            const roll = Math.floor(Math.random() * 6) + 1;
            gameState.rolls++;
            
            // Show roll result
            diceResultEl.classList.remove('hidden');
            rollValueEl.textContent = roll;
            rollBtn.classList.add('dice-roll');
            setTimeout(() => rollBtn.classList.remove('dice-roll'), 500);
            
            // Move player
            movePlayer(roll);
        });

        // Move player and handle events
        function movePlayer(units) {
            const oldPosition = gameState.position;
            gameState.position += units;
            gameState.score += units;
            
            // Check if player reached Planet Zeta
            if (gameState.position >= 100) {
                gameState.position = 100;
                gameState.gameOver = true;
                addToLog(`🎉 You reached Planet Zeta! Final score: ${gameState.score}`);
                rollBtn.disabled = true;
                rollBtn.classList.add('opacity-50', 'cursor-not-allowed');
                showEventMessage(`Congratulations! You reached Planet Zeta with a score of ${gameState.score}!`, 'text-yellow-400');
                updateUI();
                return;
            }
            
            addToLog(`🎲 Rolled a ${units}, moved to position ${gameState.position}`);
            
            // Check for space events
            checkSpaceEvents(oldPosition);
            
            updateUI();
        }

        // Check for space events
        function checkSpaceEvents(oldPosition) {
            // Check for quiz cell (now more frequent)
            if (gameState.quizCells.includes(gameState.position)) {
                showQuiz();
                return; // Skip other events if on a quiz cell
            }
            
            // Slightly reduced other space events (25% chance instead of 30%)
            if (Math.random() < 0.25) {
                const eventRoll = Math.random();
                
                if (eventRoll < 0.4) { // 40% chance of wormhole (10% total)
                    const bonus = 10;
                    gameState.position += bonus;
                    gameState.score += bonus;
                    addToLog(`🕳️ Wormhole! Jumped forward ${bonus} units to position ${gameState.position}`);
                    showEventMessage(`Wormhole! You jump forward ${bonus} units!`, 'text-blue-400');
                } 
                else if (eventRoll < 0.7) { // 30% chance of asteroid belt (7.5% total)
                    const penalty = 2;
                    gameState.score = Math.max(0, gameState.score - penalty);
                    addToLog(`☄️ Asteroid belt! Lost ${penalty} points`);
                    showEventMessage(`Asteroid belt! You lose ${penalty} points.`, 'text-orange-400');
                } 
                else { // 30% chance of black hole (7.5% total)
                    const penalty = 20;
                    gameState.position = Math.max(0, gameState.position - penalty);
                    addToLog(`🌀 Black hole! Pulled back ${penalty} units to position ${gameState.position}`);
                    showEventMessage(`Black hole! You're pulled back ${penalty} units.`, 'text-red-400');
                }
                
                updateUI();
            }
        }

        // Show quiz
        function showQuiz() {
            // Select a random question
            const randomIndex = Math.floor(Math.random() * gameState.questions.length);
            gameState.currentQuestion = gameState.questions[randomIndex];
            
            // Display question
            quizQuestionEl.textContent = gameState.currentQuestion.question;
            
            // Display options
            quizOptionsEl.innerHTML = '';
            gameState.currentQuestion.options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'flex items-center p-2 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer';
                optionEl.innerHTML = `
                    <input type="radio" name="quizOption" id="option${index}" value="${index}" class="mr-2">
                    <label for="option${index}" class="cursor-pointer">${option}</label>
                `;
                quizOptionsEl.appendChild(optionEl);
            });
            
            // Show quiz container
            quizContainerEl.classList.remove('hidden');
            rollBtn.disabled = true;
            
            // Highlight that we hit a quiz cell
            addToLog(`📚 Landed on a Quiz Cell at position ${gameState.position}!`);
            showEventMessage(`Quiz Time! Answer correctly for a bonus!`, 'text-yellow-400');
        }

        // Submit quiz answer
        submitQuizEl.addEventListener('click', function() {
            const selectedOption = document.querySelector('input[name="quizOption"]:checked');
            
            if (!selectedOption) {
                alert('Please select an answer!');
                return;
            }
            
            const answerIndex = parseInt(selectedOption.value);
            const isCorrect = answerIndex === gameState.currentQuestion.answer;
            
            if (isCorrect) {
                const bonus = Math.floor(Math.random() * 3) + 3; // 3-5 units
                gameState.position += bonus;
                gameState.score += bonus;
                addToLog(`🧠 Correct answer! Bonus: moved forward ${bonus} units to position ${gameState.position}`);
                showEventMessage(`Correct! You get a bonus of ${bonus} units!`, 'text-green-400');
            } else {
                addToLog(`🤔 Incorrect answer. The correct answer was: ${gameState.currentQuestion.options[gameState.currentQuestion.answer]}`);
                showEventMessage(`Incorrect. Better luck next time!`, 'text-gray-400');
            }
            
            // Hide quiz and enable roll button
            quizContainerEl.classList.add('hidden');
            rollBtn.disabled = false;
            
            // Check if player reached Planet Zeta after bonus
            if (gameState.position >= 100) {
                gameState.position = 100;
                gameState.gameOver = true;
                addToLog(`🎉 You reached Planet Zeta! Final score: ${gameState.score}`);
                showEventMessage(`Congratulations! You reached Planet Zeta with a score of ${gameState.score}!`, 'text-yellow-400');
                rollBtn.disabled = true;
                rollBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
            
            updateUI();
        });

        // Show event message
        function showEventMessage(message, colorClass) {
            eventTextEl.textContent = message;
            eventTextEl.className = colorClass || 'text-blue-300';
            eventMessageEl.classList.remove('hidden');
            
            // Hide after 3 seconds
            setTimeout(() => {
                eventMessageEl.classList.add('hidden');
            }, 3000);
        }

        // Add message to event log
        function addToLog(message) {
            const logEntry = document.createElement('p');
            logEntry.textContent = message;
            eventLogEl.appendChild(logEntry);
            eventLogEl.scrollTop = eventLogEl.scrollHeight;
        }

        // Update UI
        function updateUI() {
            positionEl.textContent = gameState.position;
            scoreEl.textContent = gameState.score;
            rollsEl.textContent = gameState.rolls;
            
            // Update spaceship position
            const boardWidth = document.querySelector('.relative').offsetWidth;
            const startPos = 64; // Left padding (left-16 = 4rem = 64px)
            const endPos = boardWidth - 80; // Right padding (right-4 = 1rem = 16px + 64px for planet)
            const travelDistance = endPos - startPos;
            const percentage = Math.min(gameState.position / 100, 1);
            const newPos = startPos + (travelDistance * percentage);
            
            spaceshipEl.style.left = `${newPos}px`;
            
            // Rotate spaceship based on movement
            if (gameState.position > 0) {
                spaceshipEl.style.transform = `translateY(-50%) rotate(${percentage * 360}deg)`;
            }
        }

        // Initialize the game
        initGame();
    </script>
</body>
</html>